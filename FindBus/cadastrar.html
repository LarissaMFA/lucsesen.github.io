<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastre-se</title>
    <link rel="stylesheet" href="cadastrar.css">
</head>
<body>
    <h1>Cadastre-se</h1>
    <form>
        <div>
            <label for="nome">Nome</label><br>
            <input class="campo" type="text" name="nome" id="nome" placeholder="Lucas Rocha Rangel">
        </div>
        <br>
        <div>
            <label for="endereco">Endereço</label><br>
            <input class="campo" type="text" name="endereco" id="end" placeholder="Avenidade 28 de Março, 550">
        </div>
        <br>
        <div>
            <label for="telefone">Telefone</label><br>
            <input class="campo" type="text" name="telefone" id="tel" placeholder="22998549620" maxlength="11">
        </div>
        <br>
        <div>
            <label for="email">E-mail</label><br>
            <input class="campo" type="text" name="email" id="email" placeholder="exemplo@gmail.com">
        </div>
        <br>
        <div>
            <label for="senha">Senha</label><br>
            <input class="campo" type="password" id="senha" name="senha" placeholder="********">
        </div>
        <br>
        <div>
            <label for="check"></label>
            <div style="max-width: 197px; display: flex; align-items: center;" class="check"><input type="checkbox" id="check" name="check">Estou ciente e permito a coleta dos meus dados pessoais.</div>
        </div>
        <br>
        <div>
            <a href="../FindBus/loginCliente.html"><input class="botaoCadastrar disabled" type="button" id="btn" disabled value="CADASTRAR"></a>
        </div>
        <br>
        <footer class="rodape">Todos os direitos reservados © FindBus 2022</footer>
    </form>
</body>

<script>
    (function(){
        const nome = document.getElementById ('nome');
        const telefone = document.getElementById ('tel');
        const email = document.getElementById ('email');
        const btn = document.getElementById ('btn');
        const end = document.getElementById('end');
        const senha = document.getElementById('senha');
        const check = document.getElementById('check');

        const verificaNome = () => {
            const padraoNome = /[a-z ]{3,}/i; 
            return padraoNome.test(nome.value);
        }
        const verificaTel = () => {
            const padraoTel = /[0-9]{11}/;
            return padraoTel.test(telefone.value);
        }
        const verificaEmail = () => {
            const padraoEmail = /^[\w._-]+@[\w_.-]+\.[\w]{2,}/i; 
            return padraoEmail.test(email.value);
        }

        const verificaTudo = () => {
            if(verificaNome() && verificaTel() && verificaEmail() && (end.value.length > 0) && (senha.value.length > 0) && check.checked ) {
                btn.classList.remove('disabled');
                btn.disabled = false;
            } else{
                btn.disabled = true;
                console.log(btn.classList);
                if(!(btn.classList.contains('disabled'))){
                    btn.classList.add('disabled');
                }
            }
        }
        nome.addEventListener('change', verificaTudo)
        telefone.addEventListener('change', verificaTudo);
        email.addEventListener('change', verificaTudo);
        end.addEventListener('change', verificaTudo);
        check.addEventListener('change', verificaTudo);
        senha.addEventListener('change', verificaTudo);
    })()
</script>
</html>
